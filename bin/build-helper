#!/bin/sh

common="DataGenerator.cc TestDriver.cc MedianAlgorithm.cc SortMedian.cc TreeMedian.cc MoveMedian.cc Util.cc"

cd src || exit 1
mkdir -p ../build-gcc-large ../build-gcc-small || exit 1
for a in tester verify; do
    echo "$a..."
    $CXX                $CXXFLAGS $a.cc $common -o ../build-gcc-small/$a || exit 1
    $CXX -DELEMENT_LONG $CXXFLAGS $a.cc $common -o ../build-gcc-large/$a || exit 1
done
